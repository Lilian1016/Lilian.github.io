<html>
<head>
<title>主頁</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<style type="text/css">
        *{
            margin:0;
            padding: 0;
        }
        ul{
            list-style: none;
        }
        #main{
            width: 651px;
            height: 270px;
            border:1px solid #000;
            position: relative;
        }
        #main #two li{
            /*position: absolute;*/
            width: 651px;
            height: 270px;
            display: none;
        }
        #main #one{
            position: absolute;
            right: 5px;
            bottom: 5px;
        }
        #main #one li{
            float: left;
            width: 30px;
            height: 30px;
            line-height: 30px;
            text-align: center;
            color: #fff;
            font-weight: 800;
            border-radius: 15px;
            background-color: orange;
            margin: 0 5px;
        }

    </style>
</head>
<body>
    <div id="main">
        <!-- 功能区域 -->
        <ul id="one">
            <li>1</li>
            <li>2</li>
            <li>3</li>
            <li>4</li>
        </ul>
        <!-- 轮播图区域 -->
        <ul id="two">
            <li style="display:block"><img src="./images/1.jpg" alt=""></li>
            <li><img src="./images/2.jpg" alt=""></li>
            <li><img src="./images/3.jpg" alt=""></li>
            <li><img src="./images/4.jpg" alt=""></li>
        </ul>
    </div>

    <script type="text/javascript">
        //获取对象
        var one=document.getElementById('one');
        var two=document.getElementById('two');
        //获取li对象
        var oneLi=one.getElementsByTagName("li");
        var twoLi=two.getElementsByTagName("li");

        //设置定时器 
        var timer=setInterval(fun,2000);
        var a=0;//全局变量
        var num=0;//关系变量
        //循环添加鼠标事件
        for (var i = 0; i < oneLi.length; i++) {
            oneLi[i].onmouseover = function(){
                // console.log(this.innerHTML);
                num=this.innerHTML-1;//num保存着鼠标悬浮的那一项
                //清空定时器
                clearInterval(timer);

                /*功能区切换颜色*/
                //1. 初始化功能区的颜色
                for (var i = 0; i < oneLi.length; i++) {
                    oneLi[i].style.backgroundColor='orange';
                }
                this.style.backgroundColor='red';
                for (var k = 0; k < twoLi.length; k++) {
                    k==num?twoLi[num].style.display='block':twoLi[k].style.display='none';
                }
            }
            oneLi[i].onmouseout=function(){
                a=num;//当鼠标从圆圈上移开时，把num赋给a,这样才能从当前的位置继续轮播下去
                console.log(a);
                timer=null;//初始化
                timer=setInterval(fun,2000);
            }
        }
        function fun(){
            /*遍历轮播图*/
            for (var j = 0; j < twoLi.length; j++) {
                if (j == a) {
                    twoLi[a].style.display = 'block';
                }else{
                    twoLi[j].style.display = 'none';
                }
            }
            /*遍历功能区*/
            //全部重置
            for (var i = 0; i < oneLi.length; i++) {
                oneLi[i].style.backgroundColor='orange';
            }
            //单独设定
            oneLi[a].style.backgroundColor='red';
            a++;
            if (a%oneLi.length==0) {
                a=0;
            }
            // console.log(a);
        }
    </script>
</body>
